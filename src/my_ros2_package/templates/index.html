<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interface Web ROS2</title>
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script type="text/javascript">
        function updateData() {
            fetch('/data')
            .then(response => response.json())
            .then(data => {
                document.getElementById('temperature').textContent = data.temperature ? data.temperature : 'Indisponible';
                document.getElementById('humidity').textContent = data.humidity ? data.humidity : 'Indisponible';
                document.getElementById('co2_level').textContent = data.co2_level ? data.co2_level : 'Indisponible';
                document.getElementById('fire_alert').textContent = data.fire_alert ? data.fire_alert : 'Indisponible';
                document.getElementById('fenetre_state').textContent = data.fenetre_state ? data.fenetre_state : 'Indisponible';
                document.getElementById('luminosite').textContent = data.luminosite ? data.luminosite : 'Indisponible';
                document.getElementById('stores_state').textContent = data.stores_state ? data.stores_state : 'Indisponible';
                document.getElementById('alarm_state').textContent = data.alarm_state ? data.alarm_state : 'Indisponible';
            })
            .catch(error => {
                console.error('Error fetching data:', error);
            });
        }

        setInterval(updateData, 1000); 
    </script>
</head>
<body>
    <div class="container mt-5">
        <h1 class="text-center">Interface de Contrôle</h1>

        <div class="card mt-3">
            <div class="card-header">Température</div>
            <div class="card-body">
                <h5 id="temperature" class="card-title">Indisponible</h5>
            </div>
        </div>

        <div class="card mt-3">
            <div class="card-header">Humidité</div>
            <div class="card-body">
                <h5 id="humidity" class="card-title">Indisponible</h5>
            </div>
        </div>

        <div class="card mt-3">
            <div class="card-header">Niveau de CO2</div>
            <div class="card-body">
                <h5 id="co2_level" class="card-title">Indisponible</h5>
            </div>
        </div>

        <div class="card mt-3">
            <div class="card-header">Alerte Incendie</div>
            <div class="card-body">
                <h5 id="fire_alert" class="card-title">Indisponible</h5>
            </div>
        </div>

        <div class="card mt-3">
            <div class="card-header">État des Fenêtres</div>
            <div class="card-body">
                <h5 id="fenetre_state" class="card-title">Indisponible</h5>
            </div>
        </div>

        <div class="card mt-3">
            <div class="card-header">Luminosité</div>
            <div class="card-body">
                <h5 id="luminosite" class="card-title">Indisponible</h5>
            </div>
        </div>

        <div class="card mt-3">
            <div class="card-header">État des Stores</div>
            <div class="card-body">
                <h5 id="stores_state" class="card-title">Indisponible</h5>
            </div>
        </div>

        <div class="card mt-3">
            <div class="card-header">État de l'Alarme</div>
            <div class="card-body">
                <h5 id="alarm_state" class="card-title">Indisponible</h5>
            </div>
        </div>

    </div>

    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
</body>
</html>

